<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>Everything you do I can do it with a double pointer in C - Sichem Zhou's Blog Project</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="/everything-you-do-i-can-do-it-with-a-double-pointer-in-c.html">

        <meta name="author" content="Sichem Zhou" />
        <meta name="keywords" content="programming,C/C++" />
        <meta name="description" content="It is 2016, low level coding is not needed anymore. We have programming languages like javascript and python. When people code everything with a class and related methods. But do you remember we have a programming language called C? When we had no class, templates, operator-override or implicit constructor at ..." />

        <meta property="og:site_name" content="Sichem Zhou's Blog Project" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="Everything you do I can do it with a double pointer in C"/>
        <meta property="og:url" content="/everything-you-do-i-can-do-it-with-a-double-pointer-in-c.html"/>
        <meta property="og:description" content="It is 2016, low level coding is not needed anymore. We have programming languages like javascript and python. When people code everything with a class and related methods. But do you remember we have a programming language called C? When we had no class, templates, operator-override or implicit constructor at ..."/>
        <meta property="article:published_time" content="2016-08-21" />
            <meta property="article:section" content="Diaries" />
            <meta property="article:tag" content="programming" />
            <meta property="article:tag" content="C/C++" />
            <meta property="article:author" content="Sichem Zhou" />


    <!-- Bootstrap -->
        <link rel="stylesheet" href="/theme/css/bootstrap.min.css" type="text/css"/>
    <link href="/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="/theme/css/pygments/native.css" rel="stylesheet">
    <link href="/theme/tipuesearch/tipuesearch.css" rel="stylesheet">
    <link rel="stylesheet" href="/theme/css/style.css" type="text/css"/>





</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="/" class="navbar-brand">
Sichem Zhou's Blog Project            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                        <li >
                            <a href="/category/chinese.html">Chinese</a>
                        </li>
                        <li >
                            <a href="/category/computer-vision.html">Computer vision</a>
                        </li>
                        <li class="active">
                            <a href="/category/diaries.html">Diaries</a>
                        </li>
                        <li >
                            <a href="/category/programming.html">Programming</a>
                        </li>
                        <li >
                            <a href="/category/technical.html">Technical</a>
                        </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><span>
                <form class="navbar-search" action="/search.html">
                  <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input" required>
                </form></span>
              </li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-sm-9">
    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="/everything-you-do-i-can-do-it-with-a-double-pointer-in-c.html"
                       rel="bookmark"
                       title="Permalink to Everything you do I can do it with a double pointer in C">
                        Everything you do I can do it with a double pointer in C
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2016-08-21T00:00:00-04:00"> Sun 21 August 2016</time>
    </span>





<span class="label label-default">Tags</span>
	<a href="/tag/programming.html">programming</a>
        /
	<a href="/tag/cc.html">C/C++</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <p>It is 2016, low level coding is not needed anymore. We have programming
languages like <code>javascript</code> and python. When people code everything with a class
and related methods. But do you remember we have a programming language called
C? When we had no class, templates, operator-override or implicit constructor at
that time. You actually know what are doing with C, no magic!</p>
<p>I claim no expert to programming, since I only have a four-year-old programming
life. But even you are inexperienced like me, you should still be able to code
some thing in C. IT IS fatigue to code in C, you have no standard containers to
rely on, you spend 10 hours to build a perfect <code>deque</code> data type which works on
amortized O(1) complexity and has no memory leaks before you are able to work on
your project. Awesome!!! But why? Why try to build a huge robust data structure
in a non-OOP language? Instead of trying simulate constructors and destructors,
you could always use a double pointer to do the job. Have you ever seen Linus
Torvalds's double pointer code? It removes on special case where you would make
mistakes.</p>
<p>But really? what can you do with a double pointer in C? Well, Suppose I have
<code>vector</code> data structure and I didn't want to write the code like this:</p>
<div class="highlight"><pre><span></span> struct vector {
     size_t elem_size;
     void *arr;
}
</pre></div>
<p>we can actually just use a simple array to do the job. If you just pass the
<code>void *</code> to insert function, how can I modify the size of the vector, or insert
anything before header? This should not be a problem with this:</p>
<div class="highlight"><pre><span></span>void insert(void **arr, void *elem, size_t *remain_size, size_t *size) {
    size_t old_size = *size;
    if (*remain_size == 0) {
        *arr = realloc(*arr, 2 * *size);
        *remain_size = *size;
        *size = 2;
    }
    *remain_size -= 1;

    //copy the elem to the end
}
</pre></div>
            </div>
            <!-- /.entry-content -->
<section class="well" id="related-posts">
    <h4>Related Posts:</h4>
    <ul>
        <li><a href="/template-deduction-for-c.html">Template Deduction for C++</a></li>
        <li><a href="/alternative-usage-to-typedef-in-c.html">Alternative usage to `typedef` in C</a></li>
        <li><a href="/6-years-of-programming.html">6 years of programming</a></li>
    </ul>
</section>
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>

<section class="well well-sm">
    <ul class="list-group list-group-flush">
            <li class="list-group-item"><h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Social</span></h4>
              <ul class="list-group" id="social">
                <li class="list-group-item"><a href="https://ca.linkedin.com/in/sichem-zhou-4b0113b9"><i class="fa fa-linkedin-square fa-lg"></i> Linkedin</a></li>
                <li class="list-group-item"><a href="https://github.com/xeechou"><i class="fa fa-github-square fa-lg"></i> Github</a></li>
                <li class="list-group-item"><a href="https://xeechou.blogspot.ca"><i class="fa fa-yab-square fa-lg"></i> YAB</a></li>
              </ul>
            </li>





    <li class="list-group-item"><h4><i class="fa fa-external-link-square fa-lg"></i><span class="icon-label">Links</span></h4>
      <ul class="list-group" id="links">
        <li class="list-group-item">
            <a href="http://theictlab.org" target="_blank">
                theICTlab
            </a>
        </li>
      </ul>
    </li>
    </ul>
</section>
            </aside>
        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2016 Sichem Zhou
            &middot; Powered by <a href="https://github.com/getpelican/pelican-themes/tree/master/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="/theme/js/respond.min.js"></script>


</body>
</html>